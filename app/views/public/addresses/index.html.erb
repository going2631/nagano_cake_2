<main>
  <div class= "container">
    <div class="row">
      <div class="col-sm-12 col-md-12 col-lg-12 px-5 px-sm-0 mx-auto">

        <h1>配送先登録/一覧</h1>
        <table class="table table-hover table-inverse">      

          <%= form_with model: @address, local:true do |f| %>
            <tr>
              <div class="form-group">  
                <th><label for="item_image">郵便番号（ハイフンなし）</label></th>
                  <th><%= f.text_field :postal_code %></th>
              </div>
            </tr>
            <tr>
              <div class="form-group">  
                <th><label for="item_image">住所</label></th>
                  <th><%= f.text_area :address%></th>
              </div>
            </tr>
            <tr>
              <div class="form-group">  
                <th><label for="item_image">宛名</label></th>
                  <th>
                    <%= f.text_field :name%>
                    <%= f.submit %>
                  </th>
              </div>
            </tr>
                <%= f.hidden_field :customer_id, :value => current_customer.id %>
          <% end %>
        </table>

      <table class="table table-hover table-inverse">
        <thead>
          <tr>
            <th>郵便番号（ハイフンなし）</th>
            <th>住所</th>
            <th>宛名</th>
            <th></th>
            <th></th>
            <th colspan="4"></th>
          </tr>
        </thead>
        <tbody>
          
          <% @addresses.each do |address|%>
            <tr>
              <th><%= address.postal_code %></th>
              <th><%= address.address %></th>
              <th><%= address.name %></th>
              <th><%= link_to "編集する", edit_address_path(address.id) %></th>
              <th><%= link_to "削除する", address_path(address.id), method: :delete%></th>
            </tr>
          <% end %>
          
        </tbody>
        </table>
     </div>
    </div>       
  </div>        
</main>